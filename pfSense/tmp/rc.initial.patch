--- rc.initial.orig     2024-07-08 12:34:56.000000000 +0000
+++ rc.initial  2024-07-08 12:36:12.000000000 +0000
@@ -1,0 +2,17 @@
+
+SERVICE1="/etc/context.d/ResizeZfs"
+SERVICE2="/etc/context.d/ContextOnly"
+STATE_FILE="/var/run/contextallrun_started"
+UPTIME=$(awk '{print int($1)}' /proc/uptime 2>/dev/null || sysctl -n kern.boottime | awk -F'[ ,}]+' '{print int((systime()-$4))}')
+
+if [ "$UPTIME" -lt 180 ]; then
+    if [ -f "$STATE_FILE" ]; then
+        LAST_START=$(cat "$STATE_FILE")
+        if [ "$LAST_START" -ge "$UPTIME" ]; then
+            exit 0
+        fi
+    fi
+    $SERVICE1 onestart 
+    $SERVICE2 onestart && echo "$UPTIME" > "$STATE_FILE"
+fi
+
